# 記事操作

note-mcpでは、記事の作成・取得・編集・公開・一覧取得を行えます。

## 記事作成

`note_create_draft`ツールで下書き記事を作成します。

### 基本的な作成

```
以下の内容でnote.comに下書きを作成してください:

タイトル: AIと記事を書く
本文:
# はじめに
AIアシスタントと一緒に記事を書いてみましょう。
```

### タグ付き作成

```
以下の内容でnote.comに下書きを作成してください:

タイトル: プログラミング入門
本文:
# Pythonを始めよう
...

タグ: Python, プログラミング, 入門
```

## Markdown記法

本文はMarkdown形式で記述し、自動的にnote.com互換のHTMLに変換されます。

### サポートされる記法

| 記法 | 説明 |
|------|------|
| `# 見出し` | 見出し（H1-H6） |
| `**太字**` | 太字 |
| `~~打ち消し~~` | 打ち消し線 |
| `[リンク](URL)` | リンク（[UI経由で挿入](../features/link.md)） |
| `![alt](URL)` | 画像 |
| ` ``` ` | コードブロック |
| `- リスト` | 箇条書き |
| `1. リスト` | 番号付きリスト |
| `> 引用` | 引用 |
| `[TOC]` | 目次 |
| `->テキスト<-` | 中央寄せ |
| `->テキスト` | 右寄せ |
| `<-テキスト` | 左寄せ |

### 引用と出典

引用ブロックに出典を追加できます。`— `（emダッシュ + スペース）で始まる行を出典として認識します。

**基本的な出典**:

```markdown
> 知識は力なり
> — フランシス・ベーコン
```

**出典にURLを追加**:

```markdown
> 知識は力なり
> — フランシス・ベーコン (https://ja.wikipedia.org/wiki/知識は力なり)
```

出典のURLはリンクとして変換されます。

### 数式

KaTeX互換の数式記法をサポートしています。

**インライン数式**:

```markdown
ピタゴラスの定理は $${a^2 + b^2 = c^2}$$ で表されます。
```

**ディスプレイ数式**:

```markdown
$$
x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
$$
```

詳細は[数式機能](../features/math.md)を参照してください。

### 目次

記事内に目次を挿入できます。`[TOC]`と記述した位置に、見出しから自動生成された目次が挿入されます。

```markdown
# 記事タイトル

[TOC]

## はじめに
...

## 本論
...
```

詳細は[目次機能](../features/toc.md)を参照してください。

### テキスト配置

段落のテキスト配置（中央寄せ、右寄せ、左寄せ）を指定できます。

```markdown
->中央に表示<-

->右に表示

<-左に表示
```

詳細は[テキスト配置機能](../features/text-align.md)を参照してください。

## 記事取得

`note_get_article`ツールで既存記事の内容を取得します。

```
記事ID n1234567890ab の内容を取得してください
```

取得される情報：
- タイトル
- 本文（HTML形式）
- ステータス（draft/published）
- タグ

## 記事編集

### 推奨ワークフロー

1. まず記事内容を取得：
   ```
   記事ID n1234567890ab の内容を取得してください
   ```

2. 取得した内容を確認後、編集を依頼：
   ```
   取得した記事の末尾に「まとめ」セクションを追加してください
   ```

3. `note_update_article`ツールで更新が実行されます

### 直接更新

記事ID、新しいタイトル、新しい本文を指定して直接更新することもできます：

```
記事ID n1234567890ab を以下の内容で更新してください:

タイトル: 更新されたタイトル
本文:
# 新しい内容
...
```

## 記事公開

`note_publish_article`ツールで記事を公開します。

### 既存の下書きを公開

```
記事ID 12345678 を公開してください
```

### 新規作成と同時に公開

```
以下の内容で記事を作成して公開してください:

タイトル: 即公開記事
本文:
...
```

## 記事一覧

`note_list_articles`ツールで自分の記事一覧を取得します。

### 全記事を取得

```
記事一覧を取得してください
```

### ステータスでフィルタ

```
下書き記事の一覧を取得してください
```

```
公開済み記事の一覧を取得してください
```

### ページネーション

```
記事一覧の2ページ目を取得してください
```

1ページあたり最大10件です。

## プレビュー

`note_show_preview`ツールでブラウザプレビューを表示します。

```
記事ID n1234567890ab のプレビューを表示してください
```

ブラウザが起動し、記事のプレビューページが表示されます。下書き記事の場合、プレビュー用アクセスキーが使用されます。

## 記事IDについて

note.comの記事には2種類のIDがあります：

| 種類 | 形式 | 例 | 用途 |
|------|------|-----|------|
| 数値ID | 数字のみ | `12345678` | API操作 |
| キー | `n`+英数字 | `n1234567890ab` | URL、プレビュー |

ツールによって使用するIDの種類が異なります。適切な形式のIDを使用してください。
