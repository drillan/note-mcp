# 数式機能

note-mcpはnote.comの数式記法に対応しています。MarkdownからMCP経由で数式入り記事を作成できます。

## 数式記法

note.comではKaTeX互換の数式記法を使用できます。note-mcpは以下の2種類の数式記法をサポートしています。

### インライン数式

文中に数式を埋め込む場合は `${数式}$` 形式を使用します。

```markdown
ピタゴラスの定理は ${a^2 + b^2 = c^2}$ で表されます。
```

結果: ピタゴラスの定理は ${a^2 + b^2 = c^2}$ で表されます。

### ディスプレイ数式

独立した行に数式を表示する場合は、`$$ ... $$` 形式を使用します。

```markdown
二次方程式の解の公式：

$$
x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
$$
```

## 使用例

### 基本的な数式

```markdown
# 数学ノート

## 基本公式

面積の公式: ${S = \pi r^2}$

体積の公式: ${V = \frac{4}{3}\pi r^3}$

## オイラーの等式

数学で最も美しいと言われる公式：

$$
e^{i\pi} + 1 = 0
$$
```

### よく使うTeX記法

| 記法 | 結果 | 説明 |
|------|------|------|
| `${x^2}$` | x² | 累乗 |
| `${x_i}$` | xᵢ | 添字 |
| `${\frac{a}{b}}$` | a/b | 分数 |
| `${\sqrt{x}}$` | √x | 平方根 |
| `${\sum_{i=1}^{n}}$` | Σ | 総和 |
| `${\int_{a}^{b}}$` | ∫ | 積分 |
| `${\alpha, \beta, \gamma}$` | α, β, γ | ギリシャ文字 |

## 制限事項

- **KaTeX準拠**: note.comはKaTeXを使用して数式をレンダリングします。KaTeXでサポートされていないTeX記法は使用できません
- **コードブロック内は変換されない**: バッククォートで囲まれたコードブロック内の `$` は数式として処理されません
- **HTML特殊文字**: 数式内の `>` や `<` はHTMLエスケープされる可能性があります。`\gt` や `\lt` を使用してください

## 他の書式との組み合わせ

数式は他のMarkdown書式と組み合わせて使用できます。

```markdown
**重要**: エネルギーと質量の関係は **${E = mc^2}$** で表されます。

> 数学は科学の女王である
> — カール・フリードリヒ・ガウス
```
